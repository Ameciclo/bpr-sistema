#ifndef CONSTANTS_H
#define CONSTANTS_H

// Hardware Configuration
#define LED_PIN 8
#define BUTTON_PIN 9
#define BATTERY_PIN A0

// BLE Configuration
#define BLE_SCAN_TIME 5
#define BLE_SCAN_INTERVAL 1349
#define BLE_SCAN_WINDOW 449
#define BLE_CONNECTION_TIMEOUT 10000

// WiFi Configuration
#define WIFI_SCAN_TIMEOUT 5000
#define WIFI_MAX_NETWORKS 20
#define WIFI_RSSI_THRESHOLD -90

// Power Management
#define RADIO_COORDINATION_DELAY 300
#define LIGHT_SLEEP_DURATION 1000
#define DEEP_SLEEP_DURATION 3600000000ULL // 1 hour in microseconds

// Battery Thresholds
#define BATTERY_CRITICAL_VOLTAGE 3.2
#define BATTERY_LOW_VOLTAGE 3.45
#define BATTERY_FULL_VOLTAGE 4.2

// Timing Constants
#define STATUS_REPORT_INTERVAL 30000
#define EMERGENCY_BUTTON_HOLD_TIME 3000
#define MAX_TIME_WITHOUT_BASE 7200000 // 2 hours

// Buffer Sizes
#define MAX_WIFI_RECORDS 100
#define CONFIG_JSON_SIZE 1024
#define BLE_CHARACTERISTIC_SIZE 512

// State Machine
enum BikeState {
    STATE_BOOT = 0,
    STATE_AT_BASE = 1,
    STATE_SCANNING = 2,
    STATE_LOW_POWER = 3,
    STATE_DEEP_SLEEP = 4
};

// BLE Service UUIDs (compat√≠vel com hub)
#define BLE_SERVICE_UUID "12345678-1234-1234-1234-123456789abc"
#define BLE_CHAR_DATA_UUID "87654321-4321-4321-4321-cba987654321"
#define BLE_CONFIG_REQUEST_UUID "12345678-1234-1234-1234-123456789abd"
#define BLE_CONFIG_RESPONSE_UUID "12345678-1234-1234-1234-123456789abe"

#endif